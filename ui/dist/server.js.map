{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./server/render.jsx","webpack:///./server/template.js","webpack:///./server/uiserver.js","webpack:///./src/About.jsx","webpack:///./src/Help.jsx","webpack:///./src/NumInput.jsx","webpack:///./src/Page.jsx","webpack:///./src/ProductAdd.jsx","webpack:///./src/ProductEdit.jsx","webpack:///./src/ProductImage.jsx","webpack:///./src/ProductList.jsx","webpack:///./src/ProductTable.jsx","webpack:///./src/Routes.jsx","webpack:///./src/TextInput.jsx","webpack:///./src/Toast.jsx","webpack:///./src/graphQLFetch.js","webpack:///./src/store.js","webpack:///external \"dotenv\"","webpack:///external \"express\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-bootstrap\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router-bootstrap\"","webpack:///external \"react-router-dom\"","webpack:///external \"source-map-support\""],"names":["render","req","res","initialData","About","fetchData","store","element","url","body","ReactDOMServer","renderToString","send","template","data","JSON","stringify","port","process","env","UI_SERVER_PORT","app","express","SourceMapSupport","install","dotenv","config","use","static","UI_API_ENDPOINT","UI_SERVER_API_ENDPOINT","get","listen","console","log","sendFile","path","resolve","React","Component","graphQLFetch","constructor","props","apiAbout","about","state","componentDidMount","setState","Help","showing","showModal","bind","hideModal","withRouter","format","num","toString","unformat","str","val","parseInt","Number","isNaN","NumInput","value","onBlur","onChange","e","target","match","NavBar","Footer","Page","ProductAdd","handleSubmit","price","preventDefault","form","document","forms","productAdd","replace","product","name","category","image","createProduct","ProductEdit","producteditinfo","toastVisible","toastMessage","toastType","showError","dismissToast","loadData","event","naturalValue","textValue","undefined","prevState","showSuccess","message","query","id","changes","productUpdate","params","products","propsId","ControlLabel","TextInput","ProductImage","productinfo","width","ProductList","deleteProduct","productList","productCount","index","productdeleteinfo","productDelete","count","map","counts","deleteTooltip","editTooltip","ProductRow","ProductTable","productRows","NotFound","Routes","text","trim","length","tag","createElement","Toast","componentDidUpdate","onDismiss","clearTimeout","dismissTimer","setTimeout","componentWillUnmount","bsStyle","children","position","bottom","left","variables","apiEndpoint","__isBrowser__","window","response","fetch","method","headers","result","parse","errors","error","extensions","code","details","exception","join"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom';\nimport Page from '../src/Page.jsx';\nimport template from './template.js';\nimport About from '../src/About.jsx';\nimport store from '../src/store.js';\n\nasync function render(req, res) {\n  const initialData = About.fetchData();\n  store.initialData = initialData;\n  const element = (\n    <StaticRouter location={req.url} context={{}}>\n      <Page />\n    </StaticRouter>\n  );\n  const body = ReactDOMServer.renderToString(element);\n  res.send(template(body, initialData));\n}\nexport default render;\n","export default function template(body, data) {\n  return `<!DOCTYPE HTML>\n  <html>\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Pro MERN Stack</title>\n    <link rel=\"stylesheet\" href=\"/bootstrap/css/bootstrap.min.css\" >\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <style>\n      table.table-hover tr {cursor: pointer;}\n      .panel-title a {display: block; width: 100%; cursor: pointer;}\n      .label{font-size:15px;}\n    </style>\n  </head>\n  <body>\n    <!-- Page generated from template. -->\n    <div id=\"contents\">${body}</div>\n    <script>window.__INITIAL_DATA__ = ${JSON.stringify(data)}</script>\n    <script src=\"/env.js\"></script>\n    <script src=\"/vendor.bundle.js\"></script>\n    <script src=\"/app.bundle.js\"></script>\n  </body>\n  </html>\n  `;\n}\n","import dotenv from 'dotenv';\nimport path from 'path';\nimport express from 'express';\nimport SourceMapSupport from 'source-map-support';\n\nimport render from './render.jsx';\n\n\nconst port = process.env.UI_SERVER_PORT || 8000;\nconst app = express();\n\nSourceMapSupport.install();\ndotenv.config();\n\napp.use(express.static('public'));\n\n\nif (!process.env.UI_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\n}\nif (!process.env.UI_SERVER_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = process.env.UI_API_ENDPOINT;\n}\n\napp.get('/env.js', (req, res) => {\n  const env = { UI_API_ENDPOINT: process.env.UI_API_ENDPOINT };\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\n});\n\napp.listen(port, () => {\n  console.log(`UI started on port ${port}`);\n});\napp.get('/about', render);\n\napp.get('*', (req, res) => {\n  res.sendFile(path.resolve('public/index.html'));\n});\n","import React from 'react';\nimport store from './store.js';\nimport graphQLFetch from './graphQLFetch.js';\n\nexport default class About extends React.Component {\n  static async fetchData() {\n    const data = await graphQLFetch('query {about}');\n    return data;\n  }\n\n  constructor(props) {\n    super(props);\n    const apiAbout = store.initialData ? store.initialData.about : null;\n    this.state = { apiAbout };\n  }\n\n  async componentDidMount() {\n    const { apiAbout } = this.state;\n    if (apiAbout == null) {\n      const data = await About.fetchData();\n      this.setState({ apiAbout: data.about });\n    }\n  }\n\n  render() {\n    const { apiAbout } = this.state;\n    return (\n      <div className=\"text-center\">\n        <h3>Product Inventory</h3>\n        <p>Testing Server Rendering</p>\n        <h4>\n          {apiAbout}\n        </h4>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {\n  NavItem, Glyphicon, Modal, Button, Tooltip, OverlayTrigger,\n} from 'react-bootstrap';\n\nclass Help extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n  }\n\n  showModal() {\n    this.setState({ showing: true });\n  }\n\n  hideModal() {\n    this.setState({ showing: false });\n  }\n\n  render() {\n    const { showing } = this.state;\n    return (\n      <React.Fragment>\n        <NavItem onClick={this.showModal}>\n          <OverlayTrigger\n            placement=\"left\"\n            delayShow={1000}\n            overlay={<Tooltip id=\"codehelp\">Complete Code</Tooltip>}\n          >\n            <Glyphicon glyph=\"glyphicon glyphicon-book\" />\n          </OverlayTrigger>\n          { }\n          {' '}\n          Click ME\n        </NavItem>\n        <Modal keyboard show={showing} onHide={this.hideModal}>\n          <Modal.Header closeButton>\n            <Modal.Title> Product Inventory </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <h4>Product List API v1.0</h4>\n            <p>\n              For Complete Code Please refer\n              <a href=\"https://github.com/sanimishra/assignment7/\" target=\"_blank\" rel=\"noopener noreferrer\"> Click Here</a>\n            </p>\n            <h3>Topics Covered and  Implemented in the project</h3>\n            <ul>\n              <li>What is Mern</li>\n              <li>React Components</li>\n              <li>React state</li>\n              <li>Express and GraphQl</li>\n              <li> MongoDB</li>\n              <li>Architecture and ESLInt</li>\n              <li>Modularization and Webpack</li>\n              <li>React Router</li>\n              <li>React Forms</li>\n              <li>React bootstrap</li>\n              <li>Server Rendering</li>\n              <li>Advanced Features(Aggregation implemented)</li>\n            </ul>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\n          </Modal.Footer>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\nexport default withRouter(Help);\n","import React from 'react';\n\nfunction format(num) {\n  return num != null ? num.toString() : '';\n}\nfunction unformat(str) {\n  const val = parseInt(str, 10);\n  return Number.isNaN(val) ? null : val;\n}\nexport default class NumInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    if (e.target.value.match(/^\\d*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n\n  onBlur(e) {\n    const { onChange } = this.props;\n    const { value } = this.state;\n    onChange(e, unformat(value));\n  }\n\n  render() {\n    const { value } = this.state;\n    return (\n      <input\n        type=\"text\"\n        {...this.props}\n        value={value}\n        onBlur={this.onBlur}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Navbar, Nav, NavItem, Grid,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Routes from './Routes.jsx';\nimport Help from './Help.jsx';\n\nfunction NavBar() {\n  return (\n    <Navbar>\n      <Navbar.Header>\n        <Navbar.Brand>Product Inventory</Navbar.Brand>\n      </Navbar.Header>\n      <Nav>\n        <LinkContainer exact to=\"/\"><NavItem>Home</NavItem></LinkContainer>\n        <LinkContainer to=\"/products\"><NavItem>Product List</NavItem></LinkContainer>\n        <LinkContainer to=\"/about\"><NavItem>About</NavItem></LinkContainer>\n      </Nav>\n      <Nav pullRight>\n        <Help />\n      </Nav>\n    </Navbar>\n  );\n}\nfunction Footer() {\n  return (\n    <small>\n      <p className=\"text-center\">\n        Full Stack Mern Development\n      </p>\n    </small>\n  );\n}\nexport default function Page() {\n  return (\n    <div>\n      <NavBar />\n      <Grid fluid>\n        <Routes />\n      </Grid>\n      <Footer />\n    </div>\n  );\n}\n","/* eslint-disable import/extensions */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\nimport React from 'react';\nimport {\n  Button,\n  ButtonToolbar, Form, FormGroup, FormControl, ControlLabel, Row, Col,\n} from 'react-bootstrap';\n\n\nexport default class ProductAdd extends React.Component {\n  constructor() {\n    super();\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = { price: '$' };\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const form = document.forms.productAdd;\n    const price = form.price.value.replace('$', '');\n    const product = {\n      name: form.name.value,\n      price: price > null ? price : null,\n      category: form.category.value,\n      image: form.image.value,\n    };\n    const { createProduct } = this.props;\n    createProduct(product);\n    form.name.value = '';\n    form.category.value = '';\n    form.price.value = '$';\n    form.image.value = '';\n  }\n\n  render() {\n    const { price } = this.state;\n    return (\n      <Form name=\"productAdd\" onSubmit={this.handleSubmit} className=\"addprodstyle\">\n        <Row>\n          <Col sm={3}>\n            <FormGroup>\n              <ControlLabel htmlFor=\"category\">Category</ControlLabel>\n              <FormControl componentClass=\"select\" name=\"category\" id=\"category\">\n                <option value=\"\">Select Catergory</option>\n                <option value=\"Shirts\">Shirts</option>\n                <option value=\"Jeans\">Jeans</option>\n                <option value=\"Jackets\">Jackets</option>\n                <option value=\"Sweaters\">Sweaters</option>\n                <option value=\"Accessories\">Accessories</option>\n              </FormControl>\n            </FormGroup>\n          </Col>\n          <Col sm={3}>\n            <FormGroup>\n              <ControlLabel htmlFor=\"name\">Product Name</ControlLabel>\n              <FormControl type=\"text\" name=\"name\" id=\"name\" />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col sm={3}>\n            <FormGroup>\n              <ControlLabel htmlFor=\"price\" id=\"price\">Price Per Unit</ControlLabel>\n              <FormControl type=\"text\" name=\"price\" id=\"price\" defaultValue={price} />\n            </FormGroup>\n          </Col>\n          <Col sm={3}>\n            <FormGroup>\n              <ControlLabel htmlFor=\"image\">Image URL</ControlLabel>\n              <FormControl type=\"url\" name=\"image\" id=\"image\" />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col sm={3}>\n            <FormGroup>\n              <ButtonToolbar>\n                <Button bsStyle=\"primary\" type=\"submit\">Add Product</Button>\n                <Button type=\"reset\"> Reset </Button>\n              </ButtonToolbar>\n            </FormGroup>\n          </Col>\n        </Row>\n      </Form>\n    );\n  }\n}\n","/* eslint-disable import/extensions */\nimport React from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport {\n  Col, Panel, Form, FormGroup, FormControl, ControlLabel,\n  ButtonToolbar, Button,\n} from 'react-bootstrap';\nimport NumInput from './NumInput.jsx';\nimport TextInput from './TextInput.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport Toast from './Toast.jsx';\n\n\nexport default class ProductEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      producteditinfo: {}, // Empty product\n      toastVisible: false,\n      toastMessage: ' ',\n      toastType: 'success',\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  onChange(event, naturalValue) {\n    const { name, value: textValue } = event.target;\n    const value = naturalValue === undefined ? textValue : naturalValue;\n    this.setState(prevState => ({\n      producteditinfo: { ...prevState.producteditinfo, [name]: value },\n    }));\n  }\n\n  showSuccess(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'success',\n    });\n  }\n\n  showError(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'danger',\n    });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    const { producteditinfo } = this.state;\n    const query = `mutation productUpdate(\n      $id: Int!\n      $changes: ProductUpdateInputs!\n    ) {\n      productUpdate(\n        id: $id\n        changes: $changes\n      ) {\n        id category price name image\n      }\n    }`;\n    const { id, ...changes } = producteditinfo;\n    const data = await graphQLFetch(query, { id, changes }, this.showError);\n    if (data) {\n      this.setState({ producteditinfo: data.productUpdate });\n      this.showSuccess('Updated Product successfully');// eslint-disable-line no-alert\n    }\n  }\n\n  async loadData() {\n    const query = `query products($id: Int!) {\n      products(id: $id) {\n        id category name price image\n      }\n    }`;\n    const { match: { params: { id } } } = this.props;\n    const data = await graphQLFetch(query, { id });\n    this.setState({ producteditinfo: data ? data.products : {} });\n  }\n\n  render() {\n    const { producteditinfo: { id } } = this.state;\n    const { match: { params: { id: propsId } } } = this.props;\n    const { toastVisible, toastMessage, toastType } = this.state;\n    if (id == null) {\n      if (propsId != null) {\n        return <h3>{`Product with ID ${propsId} not found.`}</h3>;\n      }\n      return null;\n    }\n    const {\n      producteditinfo: {\n        category, name, price, image,\n      },\n    } = this.state;\n    return (\n      <Panel>\n        <Panel.Heading>\n          <Panel.Title>{`Editing product: ${id}`}</Panel.Title>\n        </Panel.Heading>\n        <Panel.Body>\n          <Form horizontal onSubmit={this.handleSubmit}>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Catgory:</Col>\n              <Col sm={9}>\n                <FormControl componentClass=\"select\" name=\"category\" value={category} onChange={this.onChange}>\n                  <option value=\"Shirts\">Shirts</option>\n                  <option value=\"Jeans\">Jeans</option>\n                  <option value=\"Jackets\">Jackets</option>\n                  <option value=\"Sweaters\">Sweaters</option>\n                  <option value=\"Accessories\">Accessories</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Name:</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  size={50}\n                  name=\"name\"\n                  value={name}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Price:</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={NumInput}\n                  name=\"price\"\n                  value={price}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Image URl:</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  tag=\"textarea\"\n                  name=\"image\"\n                  value={image}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col smOffset={3} sm={6}>\n                <ButtonToolbar>\n                  <Button bsStyle=\"primary\" type=\"submit\">Submit</Button>\n                  <LinkContainer to=\"/products\">\n                    <Button bsStyle=\"link\">Back</Button>\n                  </LinkContainer>\n                </ButtonToolbar>\n              </Col>\n            </FormGroup>\n          </Form>\n        </Panel.Body>\n        <Toast showing={toastVisible} onDismiss={this.dismissToast} bsStyle={toastType}>\n          {toastMessage}\n        </Toast>\n      </Panel>\n    );\n  }\n}\n","import React from 'react';\nimport graphQLFetch from './graphQLFetch.js';\n\nexport default class ProductImage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      productinfo: {},\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const { match: { params: { id } } } = this.props;\n    const query = `query products($id: Int!) {\n      products(id: $id) {\n        id category name price image\n      }\n    }`;\n    const data = await graphQLFetch(query, { id });\n    if (data) {\n      this.setState({ productinfo: data.products });\n    }\n  }\n\n  render() {\n    const { productinfo: { image, name } } = this.state;\n    return (\n      <div>\n        <h3>Image Of the Product</h3>\n        <h1>{name}</h1>\n        <img src={image} alt={name} style={{ width: 500 }} />\n      </div>\n    );\n  }\n}\n","/* eslint-disable react/destructuring-assignment */\n/* eslint-disable import/extensions */\nimport React from 'react';\nimport { Label, Panel } from 'react-bootstrap';\nimport ProductTable from './ProductTable.jsx';\nimport ProductAdd from './ProductAdd.jsx';\nimport graphQLFetch from './graphQLFetch.js';\nimport Toast from './Toast.jsx';\n\n\nexport default class ProductList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      toastVisible: false,\n      toastMessage: ' ',\n      toastType: 'info',\n    };\n    this.createProduct = this.createProduct.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.showSuccess = this.showSuccess.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const query = `query{\n      productList\n      { \n        id category name price image\n        }\n        productCount{count}\n      }`;\n    const data = await graphQLFetch(query);\n    this.setState({ products: data.productList, productCount: data.productCount });\n  }\n\n  async createProduct(product) {\n    const query = `mutation productAdd($product: productinputs!) {\n      productAdd(product: $product) {\n        id\n      }\n    }`;\n    const data = await graphQLFetch(query, { product }, this.showError);\n    if (data) {\n      this.showSuccess('Added Product successfully.');\n      this.loadData();\n    }\n  }\n\n  async deleteProduct(index) {\n    const query = `mutation productDelete($id: Int!) {\n      productDelete(id: $id)\n    }`;\n    const { products } = this.state;\n    const { id } = products[index];\n    const data = await graphQLFetch(query, { id });\n    const productdeleteinfo = data.productDelete;\n    if (productdeleteinfo) {\n      this.showSuccess(`Deleted Product Id ${id} successfully.`);\n      this.loadData();\n    }\n  }\n\n  showSuccess(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'success',\n    });\n  }\n\n  showError(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'danger',\n    });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  render() {\n    const { toastVisible, toastType, toastMessage } = this.state;\n    const { productCount } = this.state;\n    if (productCount == null) return null;\n    const count = productCount.map(counts => (\n      <span key={counts.count}>\n        {' '}\n        {counts.count}\n      </span>\n    ));\n    return (\n      <React.Fragment>\n        <Label>\n          Showing\n          { count }\n          {' '}\n          available Products\n          {' '}\n        </Label>\n        <hr />\n        <ProductTable products={this.state.products} deleteProduct={this.deleteProduct} />\n        <Panel>\n          <Panel.Heading>Add a new product to inventory</Panel.Heading>\n          <Panel.Body><ProductAdd createProduct={this.createProduct} /></Panel.Body>\n        </Panel>\n        <Toast\n          showing={toastVisible}\n          onDismiss={this.dismissToast}\n          bsStyle={toastType}\n        >\n          {toastMessage}\n        </Toast>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport {\n  Button, Glyphicon, Tooltip, OverlayTrigger, Table,\n} from 'react-bootstrap';\n\nconst deleteTooltip = (\n  <Tooltip id=\"delete-tooltip\" placement=\"top\">Delete Product</Tooltip>\n);\nconst editTooltip = (\n  <Tooltip id=\"Edit-tooltip\" placement=\"top\">Edit Product</Tooltip>\n);\n\nconst ProductRow = withRouter(({ product, index, deleteProduct }) => (\n  <tr>\n    <td>{ product.name }</td>\n    <td>\n      { product.price }\n    </td>\n    <td>{ product.category }</td>\n\n    <td>\n      <Link to={`/viewimage/${product.id}`} target=\"_blank\">\n        <Button bsSize=\"xsmall\">\n          <Glyphicon glyph=\"picture\" />\n          {' '}\n          View image\n        </Button>\n      </Link>\n    </td>\n    <td>\n      <LinkContainer to={`/edit/${product.id}`}>\n        <OverlayTrigger delayShow={1000} overlay={editTooltip}>\n          <Button bsSize=\"xsmall\">\n            <Glyphicon glyph=\"edit\" />\n          </Button>\n        </OverlayTrigger>\n      </LinkContainer>\n      <OverlayTrigger delayShow={1000} overlay={deleteTooltip}>\n        <Button bsSize=\"xsmall\" onClick={() => { deleteProduct(index); }}>\n          <Glyphicon glyph=\"trash\" />\n        </Button>\n      </OverlayTrigger>\n    </td>\n  </tr>\n));\nexport default function ProductTable({ products, deleteProduct }) {\n  const productRows = products.map((product, index) => (\n    <ProductRow key={product.id} product={product} index={index} deleteProduct={deleteProduct} />\n  ));\n  return (\n    <Table bordered condensed hover responsive>\n      <thead>\n        <tr>\n          <th>Product Name</th>\n          <th>Price($)</th>\n          <th>Category</th>\n          <th>Image</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        {productRows}\n      </tbody>\n    </Table>\n  );\n}\n","/* eslint-disable import/extensions */\nimport React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport ProductList from './ProductList.jsx';\nimport ProductEdit from './ProductEdit.jsx';\nimport ProductImage from './ProductImage.jsx';\nimport About from './About.jsx';\n\nconst NotFound = () => <h1>Page Not Found</h1>;\nexport default function Routes() {\n  return (\n    <Switch>\n      <Redirect exact from=\"/\" to=\"/products\" />\n      <Route path=\"/products\" component={ProductList} />\n      <Route path=\"/edit/:id\" component={ProductEdit} />\n      <Route path=\"/viewimage/:id\" component={ProductImage} />\n      <Route path=\"/about\" component={About} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","import React from 'react';\n\nfunction format(text) {\n  return text != null ? text : '';\n}\nfunction unformat(text) {\n  return text.trim().length === 0 ? null : text;\n}\nexport default class TextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  onBlur(e) {\n    const { onChange } = this.props;\n    const { value } = this.state;\n    onChange(e, unformat(value));\n  }\n\n  render() {\n    const { value } = this.state;\n    const { tag = 'input', ...props } = this.props;\n    return React.createElement(tag, {\n      ...props,\n      value,\n      onBlur: this.onBlur,\n      onChange: this.onChange,\n    });\n  }\n}\n","import React from 'react';\nimport { Alert, Collapse } from 'react-bootstrap';\n\nexport default class Toast extends React.Component {\n  componentDidUpdate() {\n    const { showing, onDismiss } = this.props;\n    if (showing) {\n      clearTimeout(this.dismissTimer);\n      this.dismissTimer = setTimeout(onDismiss, 2000);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.dismissTimer);\n  }\n\n  render() {\n    const {\n      showing, bsStyle, onDismiss, children,\n    } = this.props;\n    return (\n      <Collapse in={showing}>\n        <div style={{ position: 'fixed', bottom: 20, left: 20 }}>\n          <Alert bsStyle={bsStyle} onDismiss={onDismiss}>\n            {children}\n          </Alert>\n        </div>\n      </Collapse>\n    );\n  }\n}\n","\n/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-unused-vars */\nimport fetch from 'isomorphic-fetch';\n\nexport default async function graphQLFetch(query, variables = {}, showError = null) {\n  const apiEndpoint = (__isBrowser__) // eslint-disable-line no-undef\n    ? window.ENV.UI_API_ENDPOINT\n    : process.env.UI_SERVER_API_ENDPOINT;\n  try {\n    const response = await fetch(apiEndpoint, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ query, variables }, showError = null),\n    });\n    const body = await response.text();\n    const result = JSON.parse(body);\n    if (result.errors) {\n      const error = result.errors[0];\n      if (error.extensions.code === 'BAD_USER_INPUT') {\n        const details = error.extensions.exception.errors.join('\\n ');\n        if (showError) { showError(`${error.message}:\\n ${details}`); }\n      } else if (showError) {\n        showError(`${error.extensions.code}: ${error.message}`);\n      }\n    }\n    return result.data;\n  } catch (e) {\n    if (showError) { showError(`Error in sending data to server: ${e.message}`); }\n    return null;\n  }\n}\n","const store = {};\nexport default store;\n","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-bootstrap\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"source-map-support\");"],"sourceRoot":""}